import streamlit as st

# 제목 및 설명
st.title('🔮 나의 첫 스트림릿 웹앱 - MBTI 심층 분석 🔮')
st.write("당신의 성격 유형과의 만남을 환영합니다! 아래에서 정보를 입력해주세요 😊")

# 입력
name = st.text_input('이름을 입력해주세요 : ')
mbti = st.selectbox('MBTI를 선택해주세요', [
    'ENTJ - 대담한 지휘관', 'INTJ - 전략적인 사색가', 'ENTP - 논쟁을 즐기는 변론가', 'INTP - 호기심 많은 사색가', 
    'ENFJ - 정의로운 사회운동가', 'INFJ - 통찰력 있는 상담자', 'ENFP - 자유로운 영혼의 중재자', 'INFP - 열정적인 중재자',
    'ESTJ - 엄격한 관리자', 'ISTJ - 책임감 있는 관리자', 'ESFJ - 친절한 돌봄 제공자', 'ISFJ - 헌신적인 수호자', 
    'ESTP - 에너제틱한 모험가', 'ISTP - 실용적인 장인', 'ESFP - 즐거움을 추구하는 연예인', 'ISFP - 매력적인 예술가'
])

# 흥미로운 기능: 사용자 입력에 따른 MBTI 설명 추가
descriptions = {
    'ENTJ - 대담한 지휘관': '🔥 리더의 자질이 넘치는 ENTJ! 목표를 설정하고 이끄는 데 천재적이죠. 도전이 많을수록 더 강해집니다!',
    'INTJ - 전략적인 사색가': '🧠 큰 그림을 그리는 INTJ, 복잡한 문제를 분석하고 전략을 수립하는 데 타의 추종을 불허합니다!',
    'ENTP - 논쟁을 즐기는 변론가': '💡 톡톡 튀는 아이디어가 넘치는 ENTP, 새로운 시각과 도전으로 세상을 놀라게 해요!',
    'INTP - 호기심 많은 사색가': '🔍 인생은 미지의 세계! INTP는 탐구와 사색 속에서 혁신을 발견하는 철학자적 인물입니다.',
    'ENFJ - 정의로운 사회운동가': '🌍 따뜻한 리더 ENFJ! 타인을 돕고 세상을 더 좋은 곳으로 만들기 위해 노력하는 마음씨가 가득하죠.',
    'INFJ - 통찰력 있는 상담자': '✨ 깊은 통찰력의 소유자 INFJ. 사람들의 감정을 읽고 공감하는 능력이 뛰어납니다.',
    'ENFP - 자유로운 영혼의 중재자': '🎈 자유분방한 ENFP! 열정적이며 사람을 사랑하고, 새로운 경험을 즐기는 모험가예요.',
    'INFP - 열정적인 중재자': '💖 따뜻한 마음과 순수한 영혼 INFP! 내면의 가치를 중요하게 생각하고 이상을 위해 헌신합니다.',
    'ESTJ - 엄격한 관리자': '📊 논리적이고 실용적인 ESTJ, 질서와 규칙을 중요하게 여기며, 확실한 계획을 선호해요.',
    'ISTJ - 책임감 있는 관리자': '🛠️ 신뢰할 수 있는 ISTJ! 체계적이고 계획적인 성향으로, 맡은 바 책임을 다합니다.',
    'ESFJ - 친절한 돌봄 제공자': '🤗 따뜻한 돌봄의 달인 ESFJ! 사람들과 조화롭게 지내며, 친절하고 배려심이 넘칩니다.',
    'ISFJ - 헌신적인 수호자': '🛡️ 헌신적이고 세심한 ISFJ, 타인을 보호하고 배려하는 데 능숙한 수호자 같은 존재입니다.',
    'ESTP - 에너제틱한 모험가': '🚀 항상 에너지가 넘치는 ESTP! 위험을 감수하며, 행동력으로 새로운 기회를 개척합니다.',
    'ISTP - 실용적인 장인': '🔧 문제 해결의 달인 ISTP! 손재주가 뛰어나고 실용적이며 즉각적인 판단력이 특징입니다.',
    'ESFP - 즐거움을 추구하는 연예인': '🎉 인생을 즐길 줄 아는 ESFP! 모든 순간을 즐기며, 주변 사람들에게 활력을 불어넣습니다.',
    'ISFP - 매력적인 예술가': '🎨 감성적이고 예술적인 ISFP, 자유롭고 창의적인 영혼을 지닌 매력 넘치는 인물입니다.'
}

# 결과 버튼
if st.button('확인!') and name and mbti:
    type_description = descriptions.get(mbti, "🌟 독특한 성격의 소유자시네요!")
    st.write(f"**{name}**님은 정말 **{mbti}** 같아보이시네요! 🌈")
    st.write(type_description)

    # 추가 기능: MBTI에 따른 색상 표시
    st.markdown(f"<h3 style='color:#6a0dad;'>{mbti.split(' ')[0]}</h3>", unsafe_allow_html=True)
    
    # 프로그레스 바 추가 (심리적 탐구의 진행도 표시)
    st.progress(75)

    # 초대 버튼 (링크 공유)
    st.markdown("친구와 성격 유형을 공유해보세요! 🔗 [링크 복사](#)")
